module.exports=[23038,a=>{"use strict";var b=a.i(87924),c=a.i(24987),d=a.i(63519),e=a.i(46842);let f=(0,a.i(70106).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var g=a.i(24400),h=a.i(54714),i=a.i(95245),j=a.i(59501),k=a.i(68114),l=a.i(80701);let m=h.object({firstName:h.string({message:"First name is required"}).min(1,"First name is required").min(2,"First name must be at least 2 characters.").max(50,"First name must be at most 50 characters."),lastName:h.string({message:"Last name is required"}).min(1,"Last name is required").min(2,"Last name must be at least 2 characters.").max(50,"Last name must be at most 50 characters."),address:h.string({message:"Address is required"}).min(1,"Address is required").min(10,"Address must be at least 10 characters.").max(200,"Address must be at most 200 characters."),country:h.string({message:"Country/Region is required"}).min(1,"Country/Region is required"),city:h.string({message:"City is required"}).min(1,"City is required"),postalCode:h.string({message:"Postal code is required"}).min(1,"Postal code is required").min(4,"Postal code must be at least 4 characters.").max(10,"Postal code must be at most 10 characters."),primaryPhone:h.string({message:"Primary phone number is required"}).min(1,"Primary phone number is required").min(10,"Phone number must be at least 10 characters.").max(15,"Phone number must be at most 15 characters."),secondaryPhone:h.string().min(10,"Phone number must be at least 10 characters.").max(15,"Phone number must be at most 15 characters.").optional().or(h.literal(""))}),n=["Sri Lanka","India","United States","United Kingdom","Australia","Canada"],o=["Colombo","Kandy","Galle","Jaffna","Negombo","Batticaloa","Matara","Anuradhapura"];function p(){let a=(0,i.useForm)({resolver:(0,j.zodResolver)(m),defaultValues:{firstName:"",lastName:"",address:"",country:"Sri Lanka",city:"Colombo",postalCode:"",primaryPhone:"",secondaryPhone:""}});return(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-poppins font-semibold mb-6",children:"Recipient Information"}),(0,b.jsxs)("form",{className:"space-y-5",onSubmit:a.handleSubmit(function(a){console.log(a)}),children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,b.jsx)(i.Controller,{name:"firstName",control:a.control,render:({field:a,fieldState:c})=>(0,b.jsxs)("div",{children:[(0,b.jsx)(g.CustomInput,{...a,icon:e.User,"aria-invalid":c.invalid,type:"text",label:"First Name",placeholder:"Enter your first name",id:"firstName",className:(0,k.cn)("",{"border-red-500":c.error}),labelClassName:(0,k.cn)("",{"text-red-500":c.error})}),c.error?.message&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-500",children:c.error.message})]})}),(0,b.jsx)(i.Controller,{name:"lastName",control:a.control,render:({field:a,fieldState:c})=>(0,b.jsxs)("div",{children:[(0,b.jsx)(g.CustomInput,{...a,icon:e.User,"aria-invalid":c.invalid,type:"text",label:"Last Name",placeholder:"Enter your last name",id:"lastName",className:(0,k.cn)("",{"border-red-500":c.error}),labelClassName:(0,k.cn)("",{"text-red-500":c.error})}),c.error?.message&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-500",children:c.error.message})]})})]}),(0,b.jsx)(i.Controller,{name:"address",control:a.control,render:({field:a,fieldState:d})=>(0,b.jsxs)("div",{children:[(0,b.jsx)(g.CustomInput,{...a,icon:c.MapPin,"aria-invalid":d.invalid,type:"text",label:"Address",placeholder:"Enter your address",id:"address",className:(0,k.cn)("",{"border-red-500":d.error}),labelClassName:(0,k.cn)("",{"text-red-500":d.error})}),d.error?.message&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-500",children:d.error.message})]})}),(0,b.jsx)(i.Controller,{name:"country",control:a.control,render:({field:a,fieldState:c})=>(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"country",className:(0,k.cn)("mb-2 block w-fit font-poppins font-bold",{"text-red-500":c.error}),children:"Country/Region"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f,{className:"absolute left-5 top-1/2 -translate-y-1/2 size-[17px] text-black/40 z-10"}),(0,b.jsxs)(l.Select,{value:a.value,onValueChange:a.onChange,children:[(0,b.jsx)(l.SelectTrigger,{className:(0,k.cn)("w-full bg-[#F2F2F2] border-transparent focus-within:border-black/70 h-auto pl-15 text-[#000D0E66] font-poppins sm:text-base text-sm",{"border-red-500":c.error}),"aria-invalid":c.invalid,children:(0,b.jsx)(l.SelectValue,{placeholder:"Select country/region text-[#000D0E66] font-poppins"})}),(0,b.jsx)(l.SelectContent,{className:"font-poppins text-[#0e000166]",children:n.map(a=>(0,b.jsx)(l.SelectItem,{value:a,children:a},a))})]})]}),c.error?.message&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-500",children:c.error.message})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,b.jsx)(i.Controller,{name:"city",control:a.control,render:({field:a,fieldState:d})=>(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"city",className:(0,k.cn)("mb-2 block w-fit font-poppins font-bold",{"text-red-500":d.error}),children:"City"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(c.MapPin,{className:"absolute left-5 top-1/2 -translate-y-1/2 size-5 text-black/40 z-10"}),(0,b.jsxs)(l.Select,{value:a.value,onValueChange:a.onChange,children:[(0,b.jsx)(l.SelectTrigger,{className:(0,k.cn)("w-full bg-[#F2F2F2] border-transparent focus-within:border-black/40 h-auto pl-15 text-[#000D0E66] font-poppins sm:text-base text-sm",{"border-red-500":d.error}),"aria-invalid":d.invalid,children:(0,b.jsx)(l.SelectValue,{placeholder:"Select your city text-[#000D0E66] font-poppins"})}),(0,b.jsx)(l.SelectContent,{className:"font-poppins text-[#0e000166]",children:o.map(a=>(0,b.jsx)(l.SelectItem,{value:a,children:a},a))})]})]}),d.error?.message&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-500",children:d.error.message})]})}),(0,b.jsx)(i.Controller,{name:"postalCode",control:a.control,render:({field:a,fieldState:d})=>(0,b.jsxs)("div",{children:[(0,b.jsx)(g.CustomInput,{...a,icon:c.MapPin,"aria-invalid":d.invalid,type:"text",label:"Postal Code",placeholder:"Enter your postal code",id:"postalCode",className:(0,k.cn)("",{"border-red-500":d.error}),labelClassName:(0,k.cn)("",{"text-red-500":d.error})}),d.error?.message&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-500",children:d.error.message})]})})]}),(0,b.jsx)(i.Controller,{name:"primaryPhone",control:a.control,render:({field:a,fieldState:c})=>(0,b.jsxs)("div",{children:[(0,b.jsx)(g.CustomInput,{...a,icon:d.Phone,"aria-invalid":c.invalid,type:"tel",label:"Primary Phone Number",placeholder:"Enter your primary phone number",id:"primaryPhone",className:(0,k.cn)("",{"border-red-500":c.error}),labelClassName:(0,k.cn)("",{"text-red-500":c.error})}),c.error?.message&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-500",children:c.error.message})]})}),(0,b.jsx)(i.Controller,{name:"secondaryPhone",control:a.control,render:({field:a,fieldState:c})=>(0,b.jsxs)("div",{children:[(0,b.jsx)(g.CustomInput,{...a,icon:d.Phone,"aria-invalid":c.invalid,type:"tel",label:"Secondary Phone Number",placeholder:"Enter your secondary phone number",id:"secondaryPhone",className:(0,k.cn)("",{"border-red-500":c.error}),labelClassName:(0,k.cn)("",{"text-red-500":c.error})}),c.error?.message&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-500",children:c.error.message})]})})]})]})}var q=a.i(92258),r=a.i(33441),s=a.i(72131);let t=h.object({firstName:h.string({message:"First name is required"}).min(1,"First name is required").min(2,"First name must be at least 2 characters.").max(50,"First name must be at most 50 characters."),lastName:h.string({message:"Last name is required"}).min(1,"Last name is required").min(2,"Last name must be at least 2 characters.").max(50,"Last name must be at most 50 characters."),emailAddress:h.string({message:"Email address is required"}).min(1,"Email address is required").email("Invalid email address.").max(100,"Email must be at most 100 characters."),primaryPhone:h.string({message:"Primary phone number is required"}).min(1,"Primary phone number is required").min(10,"Phone number must be at least 10 characters.").max(15,"Phone number must be at most 15 characters.")});function u({onSameAsReceiver:a}){let[c,f]=(0,s.useState)(!1),[h,l]=(0,s.useState)(!0),m=(0,i.useForm)({resolver:(0,j.zodResolver)(t),defaultValues:{firstName:"",lastName:"",emailAddress:"",primaryPhone:""}});return(0,s.useEffect)(()=>{!async function(){try{let a=await fetch("/api/auth/session");if(a.ok){let b=await a.json();if(b.user){let a=b.user.name.split(" "),c=a[0]||"",d=a.slice(1).join(" ")||"";m.setValue("firstName",c),d&&m.setValue("lastName",d),m.setValue("emailAddress",b.user.email),b.user.phone&&m.setValue("primaryPhone",b.user.phone)}}}catch(a){console.error("Failed to fetch user session",a)}finally{l(!1)}}()},[m]),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:" items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-poppins font-semibold",children:"Sender Information"}),(0,b.jsx)("div",{className:"items-center gap-2 flex mt-3",children:(0,b.jsxs)("label",{htmlFor:"sameAsReceiver",className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",id:"sameAsReceiver",checked:c,onChange:b=>{var c;f(c=b.target.checked),a&&a(c)},className:"sr-only"}),(0,b.jsx)("div",{className:(0,k.cn)("w-4 h-4 border-2 rounded flex items-center justify-center transition-all",c?"bg-white border-primary":"bg-transparent border-[#000D0E66]/20"),children:c&&(0,b.jsx)(r.Check,{className:"w-3 h-3 text-primary",strokeWidth:3})}),(0,b.jsx)("span",{className:"font-poppins text-sm font-medium text-[#000D0E66]",children:"Same As Receiver"})]})})]}),(0,b.jsxs)("form",{className:"space-y-5",onSubmit:m.handleSubmit(function(a){console.log(a)}),children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,b.jsx)(i.Controller,{name:"firstName",control:m.control,render:({field:a,fieldState:d})=>(0,b.jsxs)("div",{children:[(0,b.jsx)(g.CustomInput,{...a,icon:e.User,"aria-invalid":d.invalid,type:"text",label:"First Name",placeholder:"Enter your first name",id:"firstName",disabled:c,className:(0,k.cn)("",{"border-red-500":d.error,"opacity-60":c}),labelClassName:(0,k.cn)("",{"text-red-500":d.error})}),d.error?.message&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-500",children:d.error.message})]})}),(0,b.jsx)(i.Controller,{name:"lastName",control:m.control,render:({field:a,fieldState:d})=>(0,b.jsxs)("div",{children:[(0,b.jsx)(g.CustomInput,{...a,icon:e.User,"aria-invalid":d.invalid,type:"text",label:"Last Name",placeholder:"Enter your last name",id:"lastName",disabled:c,className:(0,k.cn)("",{"border-red-500":d.error,"opacity-60":c}),labelClassName:(0,k.cn)("",{"text-red-500":d.error})}),d.error?.message&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-500",children:d.error.message})]})})]}),(0,b.jsx)(i.Controller,{name:"emailAddress",control:m.control,render:({field:a,fieldState:d})=>(0,b.jsxs)("div",{children:[(0,b.jsx)(g.CustomInput,{...a,icon:q.Mail,"aria-invalid":d.invalid,type:"email",label:"Email Address",placeholder:"Enter your email address",id:"emailAddress",disabled:c,className:(0,k.cn)("",{"border-red-500":d.error,"opacity-60":c}),labelClassName:(0,k.cn)("",{"text-red-500":d.error})}),d.error?.message&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-500",children:d.error.message})]})}),(0,b.jsx)(i.Controller,{name:"primaryPhone",control:m.control,render:({field:a,fieldState:e})=>(0,b.jsxs)("div",{children:[(0,b.jsx)(g.CustomInput,{...a,icon:d.Phone,"aria-invalid":e.invalid,type:"tel",label:"Primary Phone Number",placeholder:"Enter your primary phone number",id:"primaryPhone",disabled:c,className:(0,k.cn)("",{"border-red-500":e.error,"opacity-60":c}),labelClassName:(0,k.cn)("",{"text-red-500":e.error})}),e.error?.message&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-500",children:e.error.message})]})})]})]})}let v=[{id:"1",name:"John Doe",addressLine1:"No. 251/A, Rose Lane",addressLine2:"Colombo 3",postalCode:"00300",phoneNumber:"+94 77 123 45 678"},{id:"2",name:"Jane Smith",addressLine1:"No. 45/B, Ocean View, Galle",addressLine2:"Near Beach Road",postalCode:"80000",phoneNumber:"+94 77 987 65 432"}];function w(){let[a,c]=(0,s.useState)(null);return(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-poppins font-semibold text-xl mb-5",children:"Your Saved Addresses"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2  gap-4",children:v.map(d=>(0,b.jsxs)("div",{onClick:()=>{var a;c(a=d.id),console.log("Selected address ID:",a)},className:(0,k.cn)("border p-5 cursor-pointer transition-all hover:shadow-md relative",a===d.id?"border-primary bg-primary/5 ring-2 ring-primary":"border-gray-200 hover:border-primary/50"),children:[(0,b.jsx)("div",{className:"absolute top-4 right-4",children:(0,b.jsx)("div",{className:(0,k.cn)("w-6 h-6 rounded-full  flex items-center justify-center transition-all",a===d.id?"bg-primary border-primary":"border-gray-300 bg-white"),children:a===d.id&&(0,b.jsx)(r.Check,{className:"w-4 h-4 text-white",strokeWidth:3})})}),(0,b.jsx)("div",{className:"mb-3 pr-10",children:(0,b.jsx)("h4",{className:"font-poppins font-semibold text-base",children:d.name})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"flex items-start gap-2",children:(0,b.jsxs)("div",{className:"text-sm font-poppins text-secondary-black/70",children:[(0,b.jsx)("p",{children:d.addressLine1}),d.addressLine2&&(0,b.jsx)("p",{children:d.addressLine2}),(0,b.jsx)("p",{className:"mt-1 font-medium",children:d.postalCode})]})}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)("p",{className:"text-sm font-poppins text-secondary-black/70",children:d.phoneNumber})})]})]},d.id))})]})}var x=a.i(62621);a.s(["default",0,()=>{let[a,c]=(0,s.useState)([]),[d,e]=(0,s.useState)(0),[f,g]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{!async function(){try{let a=await fetch("/api/cart");if(a.ok){let b=await a.json(),d=b.items.map(a=>({id:a.id.toString(),name:a.productName,subtitle:"Flower Bouquet",price:a.price,quantity:a.quantity,image:a.productImage}));c(d),e(b.subtotal)}}catch(a){console.error("Failed to fetch cart",a)}finally{g(!1)}}()},[]),f)?(0,b.jsx)("div",{className:"h-screen flex justify-center items-center",children:"Loading..."}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"relative w-full h-25 overflow-hidden"}),(0,b.jsx)("section",{children:(0,b.jsxs)("div",{className:"container mx-auto lg:px-8 px-4 pt-20 sm:pt-24 pb-10 ",children:[(0,b.jsx)("h2",{className:"font-poppins font-medium text-2xl md:text-[36px] text-secondary-black text-start lg:pb-9 pb-5",children:"Billing Details"}),(0,b.jsx)("div",{className:"w-full h-[0.5px] bg-[#E9E9E9]"})]})}),(0,b.jsx)("section",{children:(0,b.jsx)("div",{className:"container mx-auto lg:px-8 px-4 sm:pb-23 pb-20",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,b.jsx)(w,{}),(0,b.jsx)(p,{}),(0,b.jsx)(u,{})]}),(0,b.jsx)("div",{className:"lg:col-span-1",children:(0,b.jsx)("div",{className:"lg:sticky lg:top-8",children:(0,b.jsx)(x.OrderSummary,{route:"/shipping-details",subtotal:d,discount:0,total:d,showCartItems:!0,cartItems:a,buttonText:"Continue To Shipping"})})})]})})})]})}],23038)}];

//# sourceMappingURL=src_app_billing-details_page_tsx_5552ed57._.js.map